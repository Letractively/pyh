#summary User manual for the PyH library
<wiki:toc max_depth="2" />
= Introduction =

PyH is a very powerful and compact python module that lets you write HTML content from within your python program. Hard-coding plain HTML into your python code is boring and can make your code completely unreadable. Plus, once you'll have a look at the source of the HTML file, it won't be readable either. PyH gives you a nice solution for all of this. PyH lets you code your web page like a GUI!
==Features==
  * Automatic formating of HTML tags
  * High customizability
  * full CSS awareness
  * Automatic tag closure
  * Object-oriented coding of HTML
=How to install PyH=
Download the latest version of pyh from the [http://code.google.com/p/pyh/downloads/list Download tab] or directly from here [http://pyh.googlecode.com/files/PyH-0.1.tar.gz PyH-0.1.tar.gz], unpack it in your working directory or in your system's python directory, usually `/usr/lib/pythonX.X/site-packages` or anywhere visible by the environment variable `$PYTHONPATH`:
{{{
$ wget http://pyh.googlecode.com/files/PyH-0.1.tar.gz
$ tar xvzf PyH-0.1.tar.gz
$ cd PyH-0.1
$ sudo python setup.py install
}}}
If you do not have root privileges, simply copy the file `PyH-0.1/pyh.py` into your project's directory.
If you're running a RPM-based distribution you can also use rpm binaries and install them with
{{{
$ wget http://pyh.googlecode.com/files/PyH-0.1-1.noarch.rpm
$ sudo rpm -ivh PyH-0.1-1.noarch.rpm
}}}
===Quick example===
The following python code snipet
{{{
from pyh import *
page = PyH('My wonderful PyH page')
page.addCSS('myStylesheet1.css', 'myStylesheet2.css')
page.addJS('myJavascript1.js', 'myJavascript2.js')
page << h1(cl='center', 'My big title')
page << div(cl='myCSSclass1 myCSSclass2', id='myDiv1') << p(id='myP1', 'I love PyH!')
mydiv2 = page << div(id='myDiv2')
mydiv2 << h2('A smaller title') + p('Followed by a paragraph.')
page << div(id='myDiv3')
page.myDiv3.attributes['cl'] = 'myCSSclass3'
page.myDiv3 << p('Another paragraph')
page.printOut()
}}}
will generate the following html
{{{
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>My wonderful PyH page</title>
<link href="myStylesheet1.css" type="text/css" rel="stylesheet" />
<link href="myStylesheet2.css" type="text/css" rel="stylesheet" />
<script src="myJavascript1.js" type="text/javascript"></script>
<script src="myJavascript2.js" type="text/javascript"></script>
</head>
<body>
<h1 class="center">My big title</h1>
<div id="myDiv1" class="myCSSclass1 myCSSclass2">
<p id="myP1">I love PyH!</p>
</div>
<div id="myDiv2">
<h2>A smaller title</h2>
<p>Followed by a paragraph.</p>
</div>
<div id="myDiv3" class="myCSSclass3">
<p>Another paragraph</p>
</div>
</body>
</html>
}}}
=Basic manual=
  * The pyh.py module can be imported as such :
{{{
>>> from pyh import *
}}}
==The `Tag` objects==
  * HTML tags can be generated by calling the function of the same name. The HTML tag `<tag>` is invoked via the class `tag()` :
{{{
>>> mydiv = div()
>>> mydiv.render()
'<div></div>'
}}}
  * Tag attributes are passed as keyword parameters to the functions. The keyword is the same name as the attribute except for the attribute `class` which is replaced by `cl`. The content of the tag (text or sub-tags) is passed a non-keyword parameter :
{{{
>>> mydiv = div(cl='myCSSclass1 myCSSclass2', id='myCSSid1', 'My content')
>>> mydiv.render()
'<div class="myCSSclass1 myCSSclass2" id="myCSSid1">
My content
</div>'
}}}
  * Other tags can also be passed as content :
{{{
>>> mydiv = div(cl='myCSSclass1 myCSSclass2', id='myCSSid1', p('My paragraph.'))
>>> mydiv.render()
'<div class="myCSSclass1 myCSSclass2" id="myCSSid1">
<p>My paragraph</p>
</div>'
}}}
  * Once a tag object has been created, its HTML attributes can be modified by accessing its `attributes` member which is a dictionary :
{{{
>>> mydiv = div()
>>> mydiv.attributes['id'] = 'myCSSid'
>>> mydiv.render()
'<div id='myCSSid'></div>\n'
}}}
  * Tag can be concatenated by the use of the simple `+` operator :
{{{
>>> twoDivs = div() + div()
>>> twoDivs.render()
'<div></div>
<div></div>'
}}}
  * Tags can be included inside higher level tags either by passing them as non-keywords arguments as explained above or thanks to the `<<` operator. The operation returns the last included tag :
{{{
>>> myDiv = div(id='myTopLevelDiv')
>>> myPar = myDiv << div(id='myInnerDiv') << p(id='myPar') 
>>> myPar << span('My first span') + span('My second span')
>>> myDiv.render()
'<div id='myTopLevelDiv'>
<div id='myInnerDiv'>
<p id='myPar'>
<span>My first span</span><span>My second span</span>
</p>
</div>
</div>'
}}}
  * Once a tag has been included into another one it can still be accessed as a member of the upper-level tag. The name of the member is the `id` of the tag if it is specified. Otherwise it is the name of the tag if it is the first tag of its kind, `'tag_001'` if its the second and so on :
{{{
>>> myDiv = div()
>>> myDiv << span(id='myspan')
>>> myDiv.myspan << 'content1'
>>> myDiv << span()
>>> myDiv.span << 'content2'
>>> myDiv << span()
>>> myDiv.span_001 << 'content3'
>>> myDiv.render()
'<div>
<span id='myspan'>content1</span>
<span>content2</span>
<span>content3</span>
</div>'
}}}
==Build a web page==
==Build tables==
=Full reference=
==Header and PyH class==
The first thing to do is to instantiate the PyH class
{{{
page = PyH('My wonderful PyH page')
}}}
Then you can add a CSS
{{{
page.addCSS('myCSS.css')
}}}
or multiple CSS at the same time
{{{
page.addCSS(['myCSS1.css', 'myCSS2.css'])
}}}
Similarly, you can add javascript files
{{{
page.addJavaScript('myJavaScript.js')
}}}
or several at the same time. You can set the language of your page with
{{{
lang.setLang('fr')
}}}
==HTML tags==
Each `<html_tag>` listed in [UserManual#Available_tags Available tags] has a corresponding function `pyh.html_tag(**kw)` that takes as input keyword arguments corresponding to the attributes of the tag. Keywords are the same as attribute names except for the CSS class of the tag which uses the keyword `cl`. The function returns a string of the desired tag.
==Filling the body==
In order to fill the body of your page, just use the operator on you PyH object to append a tag.
{{{
page += h1(cl="myH1Class", txt="My beautiful title")
}}}
==Closing and rendering==
In order for you page do be displayed you need to call
{{{
page.render()
}}}
This call will generated the header, body and footer of your page and print it to `stdout`.
If you want to write the page to a file instead of `stdout`, just use
{{{
page.render('myHTMLFile.html')
}}}
==Tag closure policy==
  * If a tag was previously open, the next call to the associated function will by default close the tag.
{{{
>>> div()+div()
'<div></div>\n'
}}}
  * To force opening of a new tag, the argument `open=True` must be passed.
{{{
>>> div() + div(open=True) + div() + div()
'<div><div></div>\n</div>\n'
}}}
  * If the keywords `src` or `txt` are specified, the tag will be closed automatically.
{{{
>>> div(txt='I love PyH!')
'<div>I Love PyH!</div>\n'
}}}
 * After closure a new line `\n` is inserted except for certain tags.
==Available tags==
===As functions===
  * `table`
  * `th`
  * `tr`
  * `td`
  * `h2`
  * `h1`
  * `div`
  * `fieldset`
  * `select`
  * `input`
  * `span`
  * `legend`
  * `p`
  * `option`
  * `form`
  * `img`
  * `a`
  * `head`
  * `title`
  * `link`
  * `script`
  * `body`
  * `html`
===As strings===
  * `br = '<br />\n'`
  * `nl = '\n'`
  * `doctype = '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"\n"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">'`
  * `charset = '<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />'`